---
import Portfolio3 from '../assets/Portfolio3.svg';
import ArrowRight from '../assets/ArrowRigh.svg';
import ArrowLeft from '../assets/ArrowLeft.svg';
import CodeCard from '../assets/CodeCard.svg';
import TagCard from '../assets/TagCard.svg';
import ArrowFigma from '../assets/ArrowFigma.svg';
import githubIcon from '../assets/githubbotton.svg';
import codecont from '../assets/CodeContent.svg';

export interface Props {
  backHref?: string;
  crumbLeft?: string;
  crumbRight?: string;
  title?: string;
  image?: string;
  description?: string;

  techCount?: number;
  funcCount?: number;

  features?: string[];
  techs?: string[];

  figmaUrl?: string;
  githubUrl?: string;
  docsUrl?: string;
}

const BASE = import.meta.env.BASE_URL || '/';
const {
  backHref = `${BASE}#portfolio`,
  crumbLeft = "Proyectos",
  crumbRight = "Booky App",
  title = "Booky App",
  image = Portfolio3,
  description = "Aplicación móvil desarrollada en Android Studio para compartir información y tareas académicas de forma fiable, con dos roles de usuario: docente y estudiante. Programada en Java y XML, usa endpoints en PHP conectados a una base de datos MySQL alojada en Azure y contenedores para almacenar archivos, imágenes y documentos. Su diseño minimalista en blanco y negro, inspirado en TikTok, incluye modo noche, personalización de perfil, registro/login con Firebase y APIs de Google y Facebook. Integra Google Maps para geolocalizar publicaciones, permite seguir usuarios, crear carpetas públicas o privadas y guardar contenido en un feed tipo TikTok. Actualmente está en fase beta con gran potencial de crecimiento.",
  techCount = 5,
  funcCount = 7,
  features = [
    "Con Firebase y APIs de Google y Facebook.",
    "Docente y estudiante, con permisos diferenciados.",
    "Subida de archivos, imágenes y documentos a contenedores seguros.",
    "Foto, fondo y configuración de modo día/noche.",
    "API de Google Maps para ubicar publicaciones y mejorar el filtrado.",
    "Seguir usuarios, dar corazones y guardar publicaciones en el feed.",
    "Creación de carpetas públicas o privadas para guías o publicaciones."
  ],
  techs = ["Java","PHP","XML", "Azure", "MySQL","Firebase"],
  figmaUrl = "https://www.figma.com/design/7WiYqR02HIXxRmUydrDioD/Booky?node-id=37-43&t=lzcm0jfTzA2DehMr-1",
  githubUrl = "https://github.com/4ndy3chenique/BookyApp.git",
  docsUrl = "2025-1_ISC-Informe_Proyecto+Final_Desarrollo+de+Aplicaciones+Móviles.pdf",
} = Astro.props;
---
<style>
  @import url("https://fonts.googleapis.com/css2?family=Alice&family=Inder&family=Lalezar&display=swap");
  @import url("https://fonts.googleapis.com/css2?family=Alice&family=Inder&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Lalezar&display=swap");
</style>

<section class="w-full grid place-items-center pt-25 md:pt-35">
  <div class="relative w-[348px] h-[1300px] md:w-[1800px] md:h-[1122px]">
    <div class="w-[348px] h-[47px] md:w-[1800px] md:h-[135px] flex items-center justify-between md:justify-start">
      <div class="w-[86px] h-[30px] md:w-[218px] md:h-[135px] flex items-center">
        <a
          href={backHref}
          class="w-[86px] h-[28px] md:w-[193px] md:h-[62px]
                 rounded-[8px] md:rounded-[10px]
                 grid grid-cols-[15px_1fr] md:grid-cols-[30px_1fr] items-center gap-2 md:gap-3
                 bg-[#2C2C2C]/[0.13] ring-1 md:ring-2 ring-[#2A2A2A] backdrop-blur-md hover:bg-white/10 transition px-2 md:pl-5"
        >
          <img src={ArrowLeft.src} alt="" class="w-[15px] h-[15px] md:w-auto md:h-auto" />
          <span class="font-['Inter'] text-[11px] md:text-[24px] font-semibold tracking-[0.02em]">Regresar</span>
        </a>
      </div>
      <div class="w-[238px] h-[47px] md:w-[379px] md:h-[134px] flex items-center justify-start gap-2 md:gap-3">
        <span class="text-[#A7A7A7] font-['Inter'] text-[13px] md:text-[24px] tracking-[0.02em]">{crumbLeft}</span>
        <img src={ArrowRight.src} alt="" class="w-3 h-5 md:w-auto md:h-auto pt-1 md:pt-3" />
        <span class="text-white font-['Inter'] text-[13px] md:text-[24px] font-semibold">{crumbRight}</span>
      </div>
    </div>
    <div class="w-[348px] h-[1128px] md:w-[1800px] md:h-[987px] grid grid-cols-1 md:grid-cols-2 md:gap-0">
      <div class="w-[348px] h-[627px] md:w-[900px] md:h-[987px]">
        <div class="w-[348px] h-[52px] md:w-[900px] md:h-[124px] flex items-end">
          <h1 class="font-['Inter'] font-extrabold text-[32px] md:text-[96px] tracking-[0.02em]">{title}</h1>
        </div>
        <div class="w-[348px] h-[10px] md:w-[900px] md:h-[10px] mt-1 md:mt-3">
          <div class="w-[100px] h-[6px] md:w-[168px] md:h-[10px] rounded-full"
              style="background:linear-gradient(90deg,#28717E 0%, rgba(34,118,118,0.7) 100%);"></div>
        </div>
        <div class="w-[348px] h-[538px] md:w-[900px] md:h-[853px] mt-2 md:mt-4 flex flex-col justify-between">
          <div class="w-[348px] h-[253px] md:w-[900px] md:h-[293px]">
            <p class="font-['Inter'] text-[12px] md:text-[22px] font-regular tracking-[0.02em] text-white">
              {description}
            </p>
          </div>
          <div class="w-[348px] h-[87px] md:w-[900px] md:h-[181px] pt-2 md:pt-4">
            <div class="w-[348px] h-[69px] md:w-[886px] md:h-[155px]
              mx-auto flex items-center justify-between
              md:rounded-[20px] md:px-5 md:ring-1 md:ring-[#1F1F1F] md:bg-[#060606]
              rounded-[20px] px-2 ring-1 ring-[#1F1F1F] bg-[#060606]">
              <div class="w-[129px] h-[51px] md:w-[403px] md:h-[126px]
                rounded-[12px] md:rounded-[20px]
                bg-[#060606] md:ring-1 md:ring-white/10 md:backdrop-blur-md
                grid grid-cols-[25px_1fr] items-center gap-[7px]
                md:grid-cols-none md:flex md:items-center md:px-10 md:gap-6
                mx-[11px] 
                md:mx-0 ring-1 ring-white/10 backdrop-blur-md
                grid grid-cols-[25px_1fr] items-center gap-[7px]
                md:grid-cols-none flex items-center px-3  gap-6
                mx-[11px] mx-0">
                <div class="w-[25px] h-[25px] md:w-[60px] md:h-[60px] grid place-items-center">
                  <img src={CodeCard.src} alt="" class="w-[25px] h-[25px] md:w-auto md:h-auto" />
                </div>
                <div class="w-[87px] h-[40px] md:w-auto md:h-auto pt-2">
                  <div class="font-['Lalezar'] text-[16px] md:text-[40px] leading-none">{techCount}</div>
                  <div class="font-['Inter'] text-[8px] md:text-[20px] text-[#8F8F8F] leading-tight">Tecnologías Usadas</div>
                </div>
              </div>
              <div class="w-[129px] h-[51px] md:w-[403px] md:h-[126px]
                          rounded-[12px] md:rounded-[20px]
                          ring-1 ring-white/10 bg-[#060606]/80 backdrop-blur-md
                          md:ring-1 md:bg-[#060606]
                          grid grid-cols-[25px_1fr] items-center gap-[7px]
                          md:flex md:items-center px-2 md:px-10 md:gap-6 mx-[11px] md:mx-0">
                <div class="w-[25px] h-[25px] md:w-[60px] md:h-[60px] grid place-items-center">
                  <img src={TagCard.src} alt="" class="w-[25px] h-[25px] md:w-auto md:h-auto" />
                </div>
                <div class="w-[87px] h-[40px] md:w-auto md:h-auto pt-2">
                  <div class="font-['Lalezar'] text-[16px] md:text-[40px] leading-none">{funcCount}</div>
                  <div class="font-['Inter'] text-[8px] md:text-[20px] text-[#8F8F8F] leading-tight">Funciones Principales</div>
                </div>
              </div>
            </div>
          </div>
          <div class="w-[348px] h-[54px] md:w-[900px] md:h-[136px] grid grid-cols-3 items-center">
            <div class="flex justify-start">
              {figmaUrl && (
                <a href={figmaUrl} target="_blank" rel="noopener"
                  class="w-[96px] h-[34px] md:w-[273px] md:h-[83px]
                          rounded-[8px] md:rounded-2xl pt-[6px] md:p-[10px]
                          ring-2 ring-[#1F1F1F] bg-[#060606] backdrop-blur-md hover:bg-white/10 transition">
                  <div class="w-[78px] h-[21px] md:w-[223px] md:h-[62px]
                              mx-auto flex items-center justify-center gap-1 md:grid md:grid-cols-[60px_1fr]">
                    <img src={ArrowFigma.src} alt="" class="w-[20px] h-[20px] md:w-auto md:h-auto" />
                    <span class="text-[10px] md:text-[28px] text-[#C5D5E9] font-['Inter'] font-semibold tracking-[0.04em]">Figma</span>
                  </div>
                </a>
              )}
            </div>
            <div class="flex justify-center">
              {githubUrl && (
                <a href={githubUrl} target="_blank" rel="noopener"
                   class="w-[96px] h-[34px] md:w-[273px] md:h-[83px]
                          rounded-[8px] md:rounded-2xl pt-[6px] md:p-[10px]
                          ring-1 ring-[#1F1F1F] bg-[#060606] backdrop-blur-md hover:bg-white/10 transition">
                  <div class="w-[78px] h-[21px] md:w-[223px] md:h-[62px]
                              mx-auto flex items-center justify-center gap-1 md:grid md:grid-cols-[60px_1fr]">
                    <img src={githubIcon.src} alt="" class="w-[14px] h-[14px] md:w-auto md:h-auto" />
                    <span class="text-[10px] md:text-[28px] text-[#C5D5E9] font-['Inter'] font-semibold tracking-[0.04em]">GitHub</span>
                  </div>
                </a>
              )}
            </div>
            <div class="flex justify-end">
              {docsUrl && (
                <a href={docsUrl} target="_blank" rel="noopener"
                   class="w-[96px] h-[34px] md:w-[273px] md:h-[83px]
                          rounded-[8px] md:rounded-2xl pt-[6px] md:p-[10px]
                          ring-1 ring-[#1F1F1F] bg-[#060606] backdrop-blur-md hover:bg-white/10 transition">
                  <div class="w-[78px] h-[21px] md:w-[223px] md:h-[62px]
                              mx-auto flex items-center justify-center">
                    <span class="text-[10px] md:text-[28px] text-[#C5D5E9] font-['Inter'] font-semibold tracking-[0.04em]">Documento</span>
                  </div>
                </a>
              )}
            </div>
          </div>
          <div class="w-[348px] h-[112px] md:w-[900px] md:h-[243px]">
            <div class="w-[348px] h-[38px] md:w-[900px] md:h-[65px] flex items-center gap-2 md:gap-4">
              <img src={codecont.src} alt="" class="w-[20px] h-[17px] md:w-auto md:h-auto" />
              <p class="font-['Inter'] text-[14px] md:text-[28px] tracking-[0.02em] font-semibold">Tecnologías Usadas</p>
            </div>
            <div class="w-[348px] h-[77px] md:w-[900px] md:h-[178px]
                        grid grid-cols-3 gap-3 content-center pt-2 md:grid-cols-5 md:gap-5 md:pt-4">
              {techs.map((t) => (
                <div class="w-[84px] h-[30px] md:w-[127px] md:h-[46px]
                            rounded-full grid place-items-center ring-1 ring-[#1F1F1F] bg-[#060606]">
                  <span class="font-['Inter'] text-[11px] md:text-[20px]">{t}</span>
                </div>
              ))}
            </div>
          </div>
        </div>
      </div>
      <div class="w-[348px] h-[527px] md:w-[900px] md:h-[987px] relative mt-15 md:mt-0">
        <div class="w-[316px] h-[181px] mx-auto rounded-2xl overflow-hidden ring-1 ring-white/10 bg-white/5 backdrop-blur-md
                    md:absolute md:left-1/2 md:top-0 md:-translate-x-1/2 md:w-[807px] md:h-[462px] md:rounded-3xl">
          <img src={typeof image === 'string' ? image : image.src} alt={title} class="w-full h-full object-cover" />
        </div>
        <div class="w-[316px] h-[330px] mx-auto mt-2 rounded-2xl ring-1 ring-[#1F1F1F] bg-[#060606] backdrop-blur-md p-3
                    md:absolute md:left-1/2 md:bottom-0 md:-translate-x-1/2 md:w-[807px] md:h-[493px] md:rounded-3xl md:p-5">
          <div class="w-[296px] h-[290px] md:w-[765px] md:h-[442px] mx-auto">
            <div class="w-[296px] h-[46px] md:w-[765px] md:h-[58px] flex items-center">
              <h3 class="font-['Inter'] text-[20px] md:text-[30px] font-medium tracking-[0.02em]">Funciones Principales</h3>
            </div>
            <div class="w-[296px] h-[260px] md:w-[765px] md:h-[384px] overflow-auto">
              <ul class="list-disc pl-5 md:pl-8 font-['Inter'] text-[11px] md:text-[20px] leading-5 md:leading-[3rem] text-[#ACACAC]">
                {features.map((f) => <li>{f}</li>)}
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>